!function(t,$,n){var i,o="incom_wrapper",e="#"+o,a="html",c="comments-and-form",r="#"+c,s="data-incom",u=s+"-comment",l="incom-active",f="."+l,d="incom-visible-comment",b="."+d,p="incom-position-",v="incom-bubble",m="."+v,h=v+"-style",g=v+"-static",w="."+g,y=v+"-dynamic",k=v+"-active",S=v+"-link",C="incom-comments-wrapper",T="."+C,A="incom-cancel",I="."+A,O="incom-info-icon",x="."+O,W=r+" .comment",B="data_incom",D=0,N=$(window).width(),_,j,Q;t.init=function(t){q(t),z(),wn()};var q=function(t){i=$.extend({selectors:"p",moveSiteSelector:a,countStatic:!0,alwaysStatic:!1,defaultBubbleText:"+",bubbleStyle:"bubble",bubbleAnimationIn:"default",bubbleAnimationOut:"default",position:"left",background:"white",backgroundOpacity:"1"},t)},z=function(){0===$(e).length&&$('<div id="'+o+'"></div>').appendTo($(a)).addClass(p+i.position),E()},E=function(){var t=yn(i.selectors);$(t).each(function(n){$(t[n]).each(function(t){var n=$(this);F(t,n),G(n)})})},F=function(t,n){var i=n.prop("tagName").substr(0,1);if(!n.attr(s)){var o=i+t;n.attr(s,o)}},G=function(t){var n=H(t),i=K(t),o=$("<a/>",{href:"","class":S}).text(n).wrap(i).parent().appendTo(e);P(o),an(t,o),rn(o)?(R(t,o),U(t,o)):o.hide()},H=function(t){var n;return n=M(t)?J(t):i.defaultBubbleText},J=function(t){var n=t.attr(s),i="["+u+"="+n+"]",o=$(i).length;return o},K=function(t){var n='<div class="'+L(t)+'" />';return n},L=function(t){var n=v,o=" ";return(i.alwaysStatic||M(t)&&i.countStatic)&&(n+=o+g),n+=M(t)||!M(t)&&"bubble"===i.bubbleStyle?o+h:o+y},M=function(t){var n=J(t);return $.isNumeric(n)&&n>0?!0:!1},P=function(t){t.hasClass(g)&&t.css("display","block")},R=function(t,n){n.hasClass(g)||t.add(n).hover(function(){$(m+":not("+w+")").hide(),"fadein"===i.bubbleAnimationIn?n.stop(!0,!0).fadeIn():n.stop(!0,!0).show(),rn(n)||n.hide()},function(){"fadeout"===i.bubbleAnimationOut?n.stop(!0,!0).fadeOut():n.stop(!0,!0).delay(700).hide(0)})},U=function(t,n){n.on("click",function(i){i.preventDefault(),V(),t.addClass(l),bn(),n.addClass(k),Z(n)})},V=function(){var t=$(f);0!==t.length&&(t.removeClass(l),0===t.prop("class").length&&t.removeAttr("class"))},X=function(t){var n=parseInt(Y(t).substring(0,2),16),i=parseInt(Y(t).substring(2,4),16),o=parseInt(Y(t).substring(4,6),16);return n+","+i+","+o},Y=function(t){return"#"===t.charAt(0)?t.substring(1,7):t},Z=function(t){var n=$("<div/>",{"class":C}).appendTo(e).css("background-color","rgba("+X(i.background)+","+i.backgroundOpacity+")");on(),tn(),an(t,n),sn(n),fn(),dn()},tn=function(){$(r).appendTo(T).show(),nn()},nn=function(){var t=$("<input>").attr("type","hidden").attr("name",B).val(en);$(r+" .form-submit").append($(t))},on=function(){var t="["+u+"="+en()+"]";$(W).hide(),$(W+t).addClass(d).show()},en=function(){var t=$(f).attr(s);return t},an=function(t,n){var i=t.offset();n.css({top:i.top,left:gn()?i.left+t.outerWidth():i.left-n.outerWidth()})},cn=function(t){_=t.outerWidth(),j=t.offset().left,Q=j+_},rn=function(t){return cn(t),Q>N||0>j?!1:!0},sn=function(t){cn(t),gn()&&Q>N?(un(Q-N),pn("in")):!gn()&&0>j&&(un(-j),pn("in"))},un=function(t){D=t},ln=function(){return D},fn=function(){$("html").click(function(t){0===$(t.target).parents(e).length&&bn(!0)})},dn=function(){$(I).click(function(t){t.preventDefault(),bn(!0)})},bn=function(t){var n=$(m),i=$(T);$(r).appendTo(e).hide(),$(b).removeClass(d),n.hasClass(k)&&(n.removeClass(k),t?i.fadeOut("fast",function(){$(this).remove(),V()}):i.remove(),pn("out"))},pn=function(t){var n=$(i.moveSiteSelector);n.css({position:"relative"}),vn(n,t),i.moveSiteSelector!==a&&(hn(t,m),hn(t,T))},vn=function(t,n){var i;"in"===n?i=ln():"out"===n&&(i="initial"),mn(t,i)},mn=function(t,n){t.css(gn()?{right:n}:{left:n})},hn=function(t,n){var i=$(n);"in"===t?i.css({left:gn()?"-="+ln():"+="+ln()}):"out"===t&&i.css({left:gn()?"+="+ln():"-="+ln()})},gn=function(){return"right"===i.position?!0:!1},wn=function(){$(x).css({display:"block",visibility:"visible"});var t=$(x).css("color");("rgb(255, 255, 255)"===t||"white"===t)&&$(x).css("cssText","color: black!important;")},yn=function(t){var n=t.split(",");return n}}(window.incom=window.incom||{},jQuery);